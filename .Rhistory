library(ggplot2)
library(tidyverse)
setwd("C:/Users/Joao arthur/OneDrive - Fundacao Getulio Vargas - FGV/3/Proposals/1 - Proposal ML & CPI")
setwd("C:/Users/Joao arthur/OneDrive - Fundacao Getulio Vargas - FGV/3/Proposals/1 - Proposal ML")
setwd("C:/Users/Joao arthur/OneDrive - Fundacao Getulio Vargas - FGV/3/Proposals/1 - Proposal ML")
setwd("C:/Users/Joao arthur/OneDrive - Fundacao Getulio Vargas - FGV/3/Proposals/1 - Proposal ML")
# Convert monthly to date
data$monthly <- as.POSIXct(as.Date(paste0(substr(data$monthly, 1, 4), "-", substr(data$monthly, 6, 6), "-01")))
#Filter the data to show only the countries in the list
data <- data[data$Country %in% countries,]
#List of countries to analyze
#countries <- c("Australia")
countries <- c("Australia","Chile","Colombia")
source("C:/Users/Joao arthur/OneDrive - Fundacao Getulio Vargas - FGV/Dissertação/Scripts-and-Databases/Scripts/Testing the shift-share IV.R", echo=TRUE)
colnames(df_iv)
summary(lm(employment_gap ~ IV , data = df_iv))
colnames(df_iv)
summary(lm(employment_gap_change ~ IV , data = df_iv))
summary(lm(employment_gap ~ IV , data = df_iv))
summary(lm(employment_gap ~ IV + lag(IV) , data = df_iv))
summary(lm(employment_gap ~ lag(IV) , data = df_iv))
summary(lm(employment_gap ~ IV , data = df_iv))
summary(lm(employment_gap ~ IV*state , data = df_iv))
summary(lm(employment_gap ~ oil_price*state , data = df_iv))
summary(lm(employment_gap ~ oilprice*state , data = df_iv))
summary(lm(employment_gap ~ oilprice:state , data = df_iv))
summary(lm(competence_employment ~ oilprice:state , data = df_iv))
summary(lm(competence_employment ~ state , data = df_iv))
summary(lm(competence_employment ~ oilprice:state , data = df_iv))
summary(lm(competence_employment ~ state , data = df_iv))
summary(lm(competence_employment ~ oilprice:state , data = df_iv))
summary(lm(competence_employment ~ IV , data = df_iv))
colnames(df_iv)
summary(lm(competence_employment ~ oil_gsp , data = df_iv))
summary(lm(competence_employment ~ oilprice:oil_gsp , data = df_iv))
summary(lm(competence_employment ~ oilprice:oil_gspt , data = df_iv))
colnames(df_iv)
summary(lm(competence_employment ~ oilprice:state , data = df_iv))
summary(lm(competence_employment ~ brent:state , data = df_iv))
summary(lm(competence_employment ~ oilprice:state , data = df_iv))
summary(lm(competence_employment ~ dubai:state , data = df_iv))
summary(lm(competence_employment ~ oilprice:state , data = df_iv))
colnames(df_iv)
summary(lm(competence_employment ~ oilprice:oilprod , data = df_iv))
summary(lm(competence_employment ~ oilprice:state , data = df_iv))
summary(lm(competence_employment ~ state + oilprice , data = df_iv))
summary(lm(competence_employment ~ oilprice:state +lag(oilprice):state , data = df_iv))
summary(lm(competence_employment ~ oilprice:state +lag(oilprice):state , data = df_iv))
summary(lm(competence_employment ~ lag(oilprice):state , data = df_iv))
summary(lm(competence_employment ~ lag(oilprice):state , data = df_iv))
summary(lm(competence_employment ~ lag(dubai):state , data = df_iv))
summary(lm(competence_employment ~ lag(oilprice):state , data = df_iv))
summary(lm(competence_employment ~ lag(oilprice):state , data = df_iv))
source("C:/Users/Joao arthur/OneDrive - Fundacao Getulio Vargas - FGV/Dissertação/Scripts-and-Databases/Scripts/R script dissertacao - Preliminary Analysis V2.R", echo=TRUE)
colnames(df_analysis)
View(oil_deflated)
colnames(oil_deflated)
#left join with Oil data
df_analysis <- merge(df_analysis, oil_deflated[,c('year','oil','oil_deflated','log_oil_deflated_change')], by = c('year'), all.x = TRUE)
source("C:/Users/Joao arthur/OneDrive - Fundacao Getulio Vargas - FGV/Dissertação/Scripts-and-Databases/Scripts/R script dissertacao - Preliminary Analysis V2.R", echo=TRUE)
source("C:/Users/Joao arthur/OneDrive - Fundacao Getulio Vargas - FGV/Dissertação/Scripts-and-Databases/Scripts/R script dissertacao - Preliminary Analysis V2.R", echo=TRUE)
colnames(df_analysis)
summary(lm(competence_employment ~ oil))
summary(lm(competence_employment ~ oil))
summary(lm(competence_employment ~ oil,data=df_analysis))
summary(lm(competence_employment ~ oil:staet,data=df_analysis))
summary(lm(competence_employment ~ oil:state,data=df_analysis))
summary(lm(employment_gap ~ oil:state ,data=df_analysis))
summary(lm(competence_employment ~ oil:state ,data=df_analysis))
summary(lm(competence_employment ~ oil_deflated:state ,data=df_analysis))
summary(lm(competence_employment ~ oil:state ,data=df_analysis))
summary(lm(competence_employment ~ lag(oil):state ,data=df_analysis))
summary(lm(competence_employment ~ oil:state ,data=df_analysis))
summary(lm(competence_employment ~ lag(oilprice):state , data = df_iv))
source("C:/Users/Joao arthur/OneDrive - Fundacao Getulio Vargas - FGV/Dissertação/Scripts-and-Databases/Scripts/Testing the shift-share IV.R", echo=TRUE)
View(df_iv)
# Count number of observations by UF
df_iv %>%
group_by(state) %>%
summarise(n = n()) %>%
arrange(desc(n))
#Check min and max values for year
df_iv %>%
group_by(year) %>%
summarise(n = n()) %>%
arrange(desc(n))
#Check min and max values for year using summary
summary(df_iv$year)
#Check min and max values for year using summary
summary(as.numeric(df_iv$year))
summary(lm(competence_employment ~ oil:state ,data=df_analysis[df_analysis$year >= 1993 & df_analysis$year <= 2016,]))
source("C:/Users/Joao arthur/OneDrive - Fundacao Getulio Vargas - FGV/Dissertação/Scripts-and-Databases/Scripts/R script dissertacao - Preliminary Analysis V2.R", echo=TRUE)
source("C:/Users/Joao arthur/OneDrive - Fundacao Getulio Vargas - FGV/Dissertação/Scripts-and-Databases/Scripts/R script dissertacao - Preliminary Analysis V2.R", echo=TRUE)
summary(lm(competence_employment ~ oil:state ,data=df_analysis[df_analysis$year >= 1993 & df_analysis$year <= 2016,]))
summary(lm(competence_employment ~ lag(oil):state ,data=df_analysis[df_analysis$year >= 1993 & df_analysis$year <= 2016,]))
summary(df_analysis$year)
summary(as.numeric(df_analysis$year))
summary(lm(competence_employment ~ lag(oil):state ,data=df_analysis[df_analysis$year >= 1989 & df_analysis$year <= 2020,]))
summary(lm(competence_employment ~ state ,data=df_analysis[df_analysis$year >= 1989 & df_analysis$year <= 2020,]))
summary(lm(competence_employment ~ lag(oil):state ,data=df_analysis[df_analysis$year >= 1989 & df_analysis$year <= 2020,]))
summary(lm(competence_employment ~ lag(oilprice):state , data = df_iv))
summary(lm(competence_employment ~ state + oilprice , data = df_iv))
